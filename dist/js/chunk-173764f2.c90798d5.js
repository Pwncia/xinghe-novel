(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-173764f2"],{"094d":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"book-reader",style:t.styleObj,on:{click:t.tapScreen}},[n("div",{staticClass:"rendition"},[n("div",{staticClass:"title",style:{color:t.currentTheme.color}},[t._v(t._s(t.chapterInfo.title))]),n("div",{ref:"scrollWrap",staticClass:"content-wrap",on:{touchmove:t.onTouchMove,touchstart:t.onTouchStart,touchend:t.onTouchEnd}},[n("scroll",{ref:"renditionScroll",attrs:{scrollDirection:1},on:{onScroll:t.onScroll}},[n("div",{staticClass:"content",style:{fontSize:t.font+"px",lineHeight:t.font*t.space+"px"}},[n("div",{staticClass:"head",style:{fontSize:t.font+4+"px",lineHeight:(t.font+4)*t.space+"px"}},[t._v(t._s(t.chapterInfo.title))]),n("p",{domProps:{innerHTML:t._s(t.bookResolve(t.chapterInfo.isVip?"付费章节，请下载APP登录阅读":t.chapterInfo.cpContent))}}),n("div",{directives:[{name:"show",rawName:"v-show",value:t.isLoadTextShow,expression:"isLoadTextShow"}],staticClass:"loading-text",on:{click:function(e){return e.stopPropagation(),t.tapOrSlideup(e)}}},[n("span",{class:[t.isSlideUp?"icon-down2":"icon-up"]}),n("span",[t._v(t._s(t.isSlideUp?"松开进入下一章":"上拉（或点击）加载下一章"))])])])])],1)]),n("chapter-catelogue",{directives:[{name:"show",rawName:"v-show",value:t.isChapterCatelogueShow,expression:"isChapterCatelogueShow"}],attrs:{chapterLink:t.chapterLink,theme:t.styleObj},on:{"go-bookreader":t.changeChapter}}),n("transition",{attrs:{name:"slide-down1"}},[n("title-bar",{directives:[{name:"show",rawName:"v-show",value:t.isTitleAndMenuShow,expression:"isTitleAndMenuShow"}],style:t.styleObj})],1),n("transition",{attrs:{name:"slide-up"}},[n("menu-bar",{directives:[{name:"show",rawName:"v-show",value:t.isTitleAndMenuShow,expression:"isTitleAndMenuShow"}],style:t.styleObj,attrs:{options:{isNight:t.isNight}},on:{"tap-menubar":t.handTapMenu}})],1),n("transition",{attrs:{name:"slide-up"}},[n("set-bar",{directives:[{name:"show",rawName:"v-show",value:t.isSetBarShow,expression:"isSetBarShow"}],attrs:{options:{space:t.space,font:t.font,currentTheme:t.currentTheme}},on:{"set-fontspace":t.changeFontSpace,"set-theme":t.changeTheme,"fontsize-delarge":t.decreaseFontsize,"fontsize-enlarge":t.increaseFontsize}})],1),n("transition",{attrs:{name:"slide-up"}},[n("progress-bar",{directives:[{name:"show",rawName:"v-show",value:t.isProgressBarShow,expression:"isProgressBarShow"}],attrs:{progress:t.progress,chapterInfo:t.chapterInfo},on:{onInputChange:t.handlInputChange,backout:t.changeChapterByOrder,preOrNextChapter:t.changeChapterByOrder}})],1),n("message-box",{ref:"messageBox",attrs:{msg:t.msg}})],1)},i=[],a=(n("b680"),n("ac1f"),n("5319"),n("9911"),n("96cf"),n("1da1")),s=n("aada"),o=n("ac0d"),c=n("e8ec"),u=n("f988"),l=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"title-bar"},[n("span",{staticClass:"icon-back",on:{click:function(e){return e.stopPropagation(),t.goBack(e)}}}),n("span",{staticClass:"icon-more"})])},h=[],p={methods:{goBack:function(){window.history.length<=1?this.$router.push("/bookstore"):this.$router.go(-1)}}},f=p,d=(n("da79"),n("2877")),g=Object(d["a"])(f,l,h,!1,null,"e1ad6722",null),v=g.exports,m=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"menu-bar",on:{click:function(e){return e.stopPropagation(),t.stopProgation(e)}}},[n("div",{staticClass:"catelogue",on:{click:function(e){return t.tapMenuBar(0)}}},[n("span",{staticClass:"icon-menu"}),n("span",[t._v("目录")])]),n("div",{staticClass:"progress"},[n("span",{staticClass:"icon-progress",on:{click:function(e){return t.tapMenuBar(1)}}}),n("span",[t._v("进度")])]),n("div",{staticClass:"font-set"},[n("span",{staticClass:"icon-A",on:{click:function(e){return t.tapMenuBar(2)}}}),n("span",[t._v("设置")])]),n("div",{staticClass:"night-mode",on:{click:function(e){return t.tapMenuBar(3)}}},[n("span",{class:[t.options.isNight?"icon-daytime":"icon-night"]}),n("span",[t._v(t._s(t.options.isNight?"日间":"夜间"))])])])},b=[],S={props:["options"],data:function(){return{isNight:!1}},methods:{stopProgation:function(){return!1},tapMenuBar:function(t){this.$emit("tap-menubar",t)}}},C=S,w=(n("c194"),Object(d["a"])(C,m,b,!1,null,"c42d00a0",null)),x=w.exports,k=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"set-bar",on:{click:function(e){return e.stopPropagation(),t.stopProgation(e)}}},[n("div",{staticClass:"space-wrap"},[n("div",{staticClass:"title"},[t._v("间距")]),n("div",{staticClass:"options"},t._l(t.spaceList,(function(e,r){return n("span",{key:r,class:[e.icon,{currentSpace:e.value===t.options.space}],on:{click:function(n){return t.setFontSpace(e.value)}}})})),0)]),n("div",{staticClass:"fontsize-wrap"},[n("div",{staticClass:"title"},[t._v("字号")]),n("div",{staticClass:"options"},[n("span",{staticClass:"icon-A3",on:{click:t.fontSizeDelarge}}),n("span",{staticClass:"icon-A2",on:{click:t.fontSizeEnlarge}})])]),n("div",{staticClass:"theme-wrap"},[n("div",{staticClass:"title"},[t._v("主题")]),n("div",{staticClass:"options"},t._l(t.themeStyle,(function(e,r){return n("span",{key:r,class:{current:e.name===t.options.currentTheme.name},style:{backgroundColor:e.bg},on:{click:function(n){return t.setTheme(e)}}})})),0)])])},T=[],$={props:["options"],data:function(){return{themeStyle:[{name:"yellow",bg:"rgb(245, 230, 206)",color:"rgb(80, 66, 44)"},{name:"green",bg:"rgb(213, 239, 210)",color:"rgb(30, 76, 43)"},{name:"white",bg:"rgb(244, 244, 244)",color:"rgb(51, 51, 51)"},{name:"blue",bg:"rgb(205, 228, 253)",color:"rgb(83, 103, 146)"},{name:"pink",bg:"rgb(224,182,196)"}],spaceList:[{value:3,icon:"icon-space1"},{value:2,icon:"icon-space2"},{value:1.5,icon:"icon-space3"}]}},methods:{fontSizeEnlarge:function(){this.$emit("fontsize-enlarge",2)},fontSizeDelarge:function(){this.$emit("fontsize-delarge",2)},stopProgation:function(){return!1},setFontSpace:function(t){this.$emit("set-fontspace",t)},setTheme:function(t){this.$emit("set-theme",t)}}},O=$,_=(n("e3c9"),Object(d["a"])(O,k,T,!1,null,"37e44c5a",null)),y=_.exports,I=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"progress-bar",on:{click:function(e){return e.stopPropagation(),t.stopProgation(e)}}},[n("div",{staticClass:"chapter-wrap"},[n("div",{staticClass:"pre",on:{click:function(e){return t.changeOneChapter(0)}}},[n("span",{staticClass:"icon-back"})]),n("div",{staticClass:"chapter-info"},[n("span",[t._v(t._s(t.chapterInfo.title))]),n("span",[t._v(t._s(t.val)+"%")])]),n("div",{staticClass:"next",on:{click:function(e){return t.changeOneChapter(1)}}},[n("span",{staticClass:"icon-forward"})])]),n("div",{staticClass:"progress-wrap"},[n("input",{ref:"rangeInput",attrs:{type:"range",min:"0",max:"100",step:"1"},domProps:{value:t.val},on:{change:t.onChange,input:t.onInput}}),n("span",{staticClass:"icon-backout",class:{disabled:t.isDisable},on:{click:t.backBeforeChange}})])])},E=[],B={props:["progress","chapterInfo"],data:function(){return{val:"",isDisable:!0,beforeChanged:""}},methods:{changeOneChapter:function(t){this.beforeChanged=this.chapterInfo,this.isDisable=!1,0===t?this.$emit("preOrNextChapter",this.chapterInfo.order-1):this.$emit("preOrNextChapter",this.chapterInfo.order+1)},backBeforeChange:function(){this.isDisable||(this.$emit("backout",this.beforeChanged.order),this.isDisable=!0,this.beforeChanged="")},onInput:function(t){this.val=t.target.value,this.initRangeInput()},onChange:function(t){this.val=t.target.value,this.beforeChanged=this.chapterInfo,this.isDisable=!1,this.$emit("onInputChange",this.val)},stopProgation:function(){return!1},initRangeInput:function(){this.$refs.rangeInput.style.backgroundSize="".concat(this.val,"% 100%")}},watch:{progress:function(t){this.val!==t&&(this.val=t)}},mounted:function(){this.initRangeInput()},updated:function(){this.initRangeInput()}},P=B,R=(n("7a95"),Object(d["a"])(P,I,E,!1,null,"509fe5cd",null)),A=R.exports,M=n("324b"),j={mixins:[o["a"]],data:function(){return{font:16,space:1.5,currentTheme:{name:"white",color:"rgb(51, 51, 51)",bg:"rgb(244, 244, 244)"},isNight:!1,chapterInfo:"",nightMode:{name:"black",bg:"rgb(10, 10, 10)",color:"rgb(73, 73, 73)"},isTitleAndMenuShow:!1,isSetBarShow:!1,chapterLink:"",isProgressBarShow:!1,msg:"",isLoadTextShow:!1,isScrollToBottom:!1,isSlideUp:!1}},methods:{onTouchEnd:function(t){if(!this.touchStartY)return!1;this.touchStartY=null,this.$refs.scrollWrap.style.top=0,this.isLoadTextShow=!1,this.isSlideUp&&(this.changeChapterByOrder(this.chapterInfo.order+1),this.isSlideUp=!1)},onTouchStart:function(t){this.isScrollToBottom&&(this.touchStartY=this.touchStartY?this.touchStartY:t.targetTouches[0].clientY)},onTouchMove:function(t){if(this.isScrollToBottom){var e=t.targetTouches[0].clientY-this.touchStartY;if(e>0)return!1;this.isSlideUp=e<=-30,this.$refs.scrollWrap.style.top=e+"px"}},tapOrSlideup:function(){this.changeChapterByOrder(this.chapterInfo.order+1),this.isLoadTextShow=!1},onScroll:function(t){this.isTitleAndMenuShow=!1,this.isProgressBarShow=!1,this.isSetBarShow=!1,this.isScrollToBottom=!1,t.target.scrollTop===t.target.scrollHeight-t.target.clientHeight&&(this.isLoadTextShow=!0,this.isScrollToBottom=!0)},changeChapterByOrder:function(t){var e=this.chapterList[t-1].link;this.changeChapter(e)},handlInputChange:function(t){var e=Math.floor(this.chapterList.length*t/100);e=e>=1?e:1;var n=this.chapterList[e-1].link;this.changeChapter(n)},increaseFontsize:function(t){if(this.font>=24)return this.msg="已经是最大字号",this.$refs.messageBox.show(),!1;var e=this.font+t;Object(c["i"])("font",e);var n=Object(c["e"])();n.font&&(this.font=n.font)},decreaseFontsize:function(t){if(this.font<=14)return this.msg="已经是最小字号",this.$refs.messageBox.show(),!1;var e=this.font-t;Object(c["i"])("font",e);var n=Object(c["e"])();n.font&&(this.font=n.font)},changeTheme:function(t){Object(c["i"])("theme",t);var e=Object(c["e"])().theme;void 0!=e&&e!=={}&&(this.currentTheme=e)},changeFontSpace:function(t){Object(c["i"])("space",t);var e=Object(c["e"])().space;e&&(this.space=e)},changeChapter:function(t){Object(c["k"])(this.$route.params.bookId,t),this.getChapterContent()},setMode:function(){this.isNight=!this.isNight,Object(c["i"])("mode",this.isNight),this.bookReaderInit()},handTapMenu:function(t){switch(3!==t&&(this.isTitleAndMenuShow=!1),t){case 0:this.setIsChapterCatelogueShow(!0);break;case 1:this.isProgressBarShow=!0;break;case 2:this.isSetBarShow=!0;break;case 3:this.setMode();break}},tapScreen:function(t){var e=window.innerWidth;if(this.isTitleAndMenuShow||this.isSetBarShow||this.isProgressBarShow)return this.isTitleAndMenuShow=!1,this.isSetBarShow=!1,this.isProgressBarShow=!1,!1;t.clientX<.3*e?this.prePage():t.clientX>.7*e?this.nextPage():this.isTitleAndMenuShow=!0},prePage:function(){var t=this.$refs.renditionScroll.$el.scrollTop+20-this.$refs.renditionScroll.$el.clientHeight;t=t>0?t:0,this.$refs.renditionScroll.scrollTo(0,t)},nextPage:function(){var t=this.$refs.renditionScroll.$el.clientHeight+this.$refs.renditionScroll.$el.scrollTop-20;t+this.$refs.renditionScroll.$el.clientHeight<this.$refs.renditionScroll.$el.scrollHeight||(t=this.$refs.renditionScroll.$el.scrollHeight-this.$refs.renditionScroll.$el.clientHeight),this.$refs.renditionScroll.scrollTo(0,t)},getChapterContent:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.chapterLink=Object(c["d"])()[t.$route.params.bookId],e.next=3,t.$http.get("/chapter/chapter/"+t.urlEncode(t.chapterLink));case 3:n=e.sent,200===n.status&&(t.chapterInfo=n.data.chapter,t.$refs.renditionScroll.scrollTo(0,0));case 5:case"end":return e.stop()}}),e)})))()},bookReaderInit:function(){var t=Object(c["e"])();t?(this.currentTheme=t.mode?this.nightMode:t.theme?t.theme:this.currentTheme,this.font=t.font?t.font:this.font,this.space=t.space?t.space:this.space):(Object(c["i"])("space",this.space),Object(c["i"])("theme",this.currentTheme),Object(c["i"])("font",this.font),Object(c["i"])("mode",this.isNight))},bookResolve:function(t){if(!t)return"";var e=JSON.stringify(t).replace(/^"|"$/g,"");return e="<p>"+e.replace(/\s*/g,"").replace(/\\r|\\n|\\t|\\r\\n\\n|\\r\\n\\t|\\r\\n/g,"</p><p>")+"</p>",e}},computed:{styleObj:function(){return{color:this.currentTheme.color,backgroundColor:this.currentTheme.bg}},progress:function(){var t=this.chapterList.length;return(100*this.chapterInfo.order/t).toFixed(1)}},mounted:function(){this.bookReaderInit(),this.getChapterContent()},components:{scroll:s["a"],chapterCatelogue:u["a"],titleBar:v,menuBar:x,setBar:y,progressBar:A,messageBox:M["a"]}},L=j,N=(n("5ff0"),Object(d["a"])(L,r,i,!1,null,"7f80f870",null));e["default"]=N.exports},"14c3":function(t,e,n){var r=n("c6b6"),i=n("9263");t.exports=function(t,e){var n=t.exec;if("function"===typeof n){var a=n.call(t,e);if("object"!==typeof a)throw TypeError("RegExp exec method returned something other than an Object or null");return a}if("RegExp"!==r(t))throw TypeError("RegExp#exec called on incompatible receiver");return i.call(t,e)}},1643:function(t,e,n){"use strict";var r=n("a9b1"),i=n.n(r);i.a},2498:function(t,e,n){},"324b":function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"message-box"},[n("transition",{attrs:{name:"scale"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.isMessageBoxShow,expression:"isMessageBoxShow"}],staticClass:"message"},[t._v(" "+t._s(t.msg)+" ")])])],1)},i=[],a={props:["msg"],data:function(){return{isMessageBoxShow:!1}},methods:{show:function(){var t=this;this.timer&&clearTimeout(this.timer),this.isMessageBoxShow=!0,this.timer=setTimeout((function(){t.isMessageBoxShow=!1}),2e3)},hidden:function(){this.isMessageBoxShow=!1}}},s=a,o=(n("a8a4"),n("2877")),c=Object(o["a"])(s,r,i,!1,null,"40253ff7",null);e["a"]=c.exports},5319:function(t,e,n){"use strict";var r=n("d784"),i=n("825a"),a=n("7b0b"),s=n("50c4"),o=n("a691"),c=n("1d80"),u=n("8aa5"),l=n("14c3"),h=Math.max,p=Math.min,f=Math.floor,d=/\$([$&'`]|\d\d?|<[^>]*>)/g,g=/\$([$&'`]|\d\d?)/g,v=function(t){return void 0===t?t:String(t)};r("replace",2,(function(t,e,n,r){var m=r.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,b=r.REPLACE_KEEPS_$0,S=m?"$":"$0";return[function(n,r){var i=c(this),a=void 0==n?void 0:n[t];return void 0!==a?a.call(n,i,r):e.call(String(i),n,r)},function(t,r){if(!m&&b||"string"===typeof r&&-1===r.indexOf(S)){var a=n(e,t,this,r);if(a.done)return a.value}var c=i(t),f=String(this),d="function"===typeof r;d||(r=String(r));var g=c.global;if(g){var w=c.unicode;c.lastIndex=0}var x=[];while(1){var k=l(c,f);if(null===k)break;if(x.push(k),!g)break;var T=String(k[0]);""===T&&(c.lastIndex=u(f,s(c.lastIndex),w))}for(var $="",O=0,_=0;_<x.length;_++){k=x[_];for(var y=String(k[0]),I=h(p(o(k.index),f.length),0),E=[],B=1;B<k.length;B++)E.push(v(k[B]));var P=k.groups;if(d){var R=[y].concat(E,I,f);void 0!==P&&R.push(P);var A=String(r.apply(void 0,R))}else A=C(y,f,I,E,P,r);I>=O&&($+=f.slice(O,I)+A,O=I+y.length)}return $+f.slice(O)}];function C(t,n,r,i,s,o){var c=r+t.length,u=i.length,l=g;return void 0!==s&&(s=a(s),l=d),e.call(o,l,(function(e,a){var o;switch(a.charAt(0)){case"$":return"$";case"&":return t;case"`":return n.slice(0,r);case"'":return n.slice(c);case"<":o=s[a.slice(1,-1)];break;default:var l=+a;if(0===l)return e;if(l>u){var h=f(l/10);return 0===h?e:h<=u?void 0===i[h-1]?a.charAt(1):i[h-1]+a.charAt(1):e}o=i[l-1]}return void 0===o?"":o}))}}))},5968:function(t,e,n){},"5f9b":function(t,e,n){},"5ff0":function(t,e,n){"use strict";var r=n("9bba"),i=n.n(r);i.a},"64f9":function(t,e,n){},6547:function(t,e,n){var r=n("a691"),i=n("1d80"),a=function(t){return function(e,n){var a,s,o=String(i(e)),c=r(n),u=o.length;return c<0||c>=u?t?"":void 0:(a=o.charCodeAt(c),a<55296||a>56319||c+1===u||(s=o.charCodeAt(c+1))<56320||s>57343?t?o.charAt(c):a:t?o.slice(c,c+2):s-56320+(a-55296<<10)+65536)}};t.exports={codeAt:a(!1),charAt:a(!0)}},"7a95":function(t,e,n){"use strict";var r=n("5968"),i=n.n(r);i.a},"857a":function(t,e,n){var r=n("1d80"),i=/"/g;t.exports=function(t,e,n,a){var s=String(r(t)),o="<"+e;return""!==n&&(o+=" "+n+'="'+String(a).replace(i,"&quot;")+'"'),o+">"+s+"</"+e+">"}},"8aa5":function(t,e,n){"use strict";var r=n("6547").charAt;t.exports=function(t,e,n){return e+(n?r(t,e).length:1)}},9223:function(t,e,n){},9263:function(t,e,n){"use strict";var r=n("ad6d"),i=n("9f7f"),a=RegExp.prototype.exec,s=String.prototype.replace,o=a,c=function(){var t=/a/,e=/b*/g;return a.call(t,"a"),a.call(e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),u=i.UNSUPPORTED_Y||i.BROKEN_CARET,l=void 0!==/()??/.exec("")[1],h=c||l||u;h&&(o=function(t){var e,n,i,o,h=this,p=u&&h.sticky,f=r.call(h),d=h.source,g=0,v=t;return p&&(f=f.replace("y",""),-1===f.indexOf("g")&&(f+="g"),v=String(t).slice(h.lastIndex),h.lastIndex>0&&(!h.multiline||h.multiline&&"\n"!==t[h.lastIndex-1])&&(d="(?: "+d+")",v=" "+v,g++),n=new RegExp("^(?:"+d+")",f)),l&&(n=new RegExp("^"+d+"$(?!\\s)",f)),c&&(e=h.lastIndex),i=a.call(p?n:h,v),p?i?(i.input=i.input.slice(g),i[0]=i[0].slice(g),i.index=h.lastIndex,h.lastIndex+=i[0].length):h.lastIndex=0:c&&i&&(h.lastIndex=h.global?i.index+i[0].length:e),l&&i&&i.length>1&&s.call(i[0],n,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(i[o]=void 0)})),i}),t.exports=o},9911:function(t,e,n){"use strict";var r=n("23e7"),i=n("857a"),a=n("af03");r({target:"String",proto:!0,forced:a("link")},{link:function(t){return i(this,"a","href",t)}})},"9bba":function(t,e,n){},"9f7f":function(t,e,n){"use strict";var r=n("d039");function i(t,e){return RegExp(t,e)}e.UNSUPPORTED_Y=r((function(){var t=i("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),e.BROKEN_CARET=r((function(){var t=i("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},a8a4:function(t,e,n){"use strict";var r=n("2498"),i=n.n(r);i.a},a9b1:function(t,e,n){},ac1f:function(t,e,n){"use strict";var r=n("23e7"),i=n("9263");r({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},ad6d:function(t,e,n){"use strict";var r=n("825a");t.exports=function(){var t=r(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},af03:function(t,e,n){var r=n("d039");t.exports=function(t){return r((function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}))}},c194:function(t,e,n){"use strict";var r=n("64f9"),i=n.n(r);i.a},c975:function(t,e,n){"use strict";var r=n("23e7"),i=n("4d64").indexOf,a=n("a640"),s=n("ae40"),o=[].indexOf,c=!!o&&1/[1].indexOf(1,-0)<0,u=a("indexOf"),l=s("indexOf",{ACCESSORS:!0,1:0});r({target:"Array",proto:!0,forced:c||!u||!l},{indexOf:function(t){return c?o.apply(this,arguments)||0:i(this,t,arguments.length>1?arguments[1]:void 0)}})},d784:function(t,e,n){"use strict";n("ac1f");var r=n("6eeb"),i=n("d039"),a=n("b622"),s=n("9263"),o=n("9112"),c=a("species"),u=!i((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),l=function(){return"$0"==="a".replace(/./,"$0")}(),h=a("replace"),p=function(){return!!/./[h]&&""===/./[h]("a","$0")}(),f=!i((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));t.exports=function(t,e,n,h){var d=a(t),g=!i((function(){var e={};return e[d]=function(){return 7},7!=""[t](e)})),v=g&&!i((function(){var e=!1,n=/a/;return"split"===t&&(n={},n.constructor={},n.constructor[c]=function(){return n},n.flags="",n[d]=/./[d]),n.exec=function(){return e=!0,null},n[d](""),!e}));if(!g||!v||"replace"===t&&(!u||!l||p)||"split"===t&&!f){var m=/./[d],b=n(d,""[t],(function(t,e,n,r,i){return e.exec===s?g&&!i?{done:!0,value:m.call(e,n,r)}:{done:!0,value:t.call(n,e,r)}:{done:!1}}),{REPLACE_KEEPS_$0:l,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:p}),S=b[0],C=b[1];r(String.prototype,t,S),r(RegExp.prototype,d,2==e?function(t,e){return C.call(t,this,e)}:function(t){return C.call(t,this)})}h&&o(RegExp.prototype[d],"sham",!0)}},da79:function(t,e,n){"use strict";var r=n("9223"),i=n.n(r);i.a},e3c9:function(t,e,n){"use strict";var r=n("5f9b"),i=n.n(r);i.a},e8ec:function(t,e,n){"use strict";n.d(e,"h",(function(){return c})),n.d(e,"l",(function(){return u})),n.d(e,"f",(function(){return l})),n.d(e,"m",(function(){return h})),n.d(e,"g",(function(){return p})),n.d(e,"b",(function(){return f})),n.d(e,"k",(function(){return d})),n.d(e,"d",(function(){return g})),n.d(e,"i",(function(){return v})),n.d(e,"e",(function(){return m})),n.d(e,"j",(function(){return b})),n.d(e,"c",(function(){return S})),n.d(e,"a",(function(){return C}));n("4de4"),n("c975");var r=n("84f1"),i=n.n(r),a=new i.a;function s(t,e){return a.set(t,e)}function o(t){return a.get(t)}function c(t){return a.delete(t)}function u(t){var e=o("search-history");if(e){var n=e.indexOf(t);if(-1!==n)return!1}else e=[];return e.push(t),s("search-history",e)}function l(){return o("search-history")}function h(t){var e=o("want-read-list");if(e){var n=e.indexOf(t);if(-1!==n)return!1}else e=[];return e.push(t),s("want-read-list",e)}function p(){return o("want-read-list")}function f(t){var e=o("want-read-list"),n=e.filter((function(e){return e!==t}));return s("want-read-list",n)}function d(t,e){var n=o("chapter-link");return n||(n={}),n[t]=e,s("chapter-link",n)}function g(){return o("chapter-link")}function v(t,e){var n=o("reader-setting");return n||(n={}),n[t]=e,s("reader-setting",n)}function m(){return o("reader-setting")}function b(t){var e=o("bookshelf");return e||(e=[]),e.push(t),s("bookshelf",e)}function S(){var t=o("bookshelf");return t||""}function C(){return c("bookshelf")}},f988:function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"fade"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.isChapterCatelogueShow,expression:"isChapterCatelogueShow"}],staticClass:"chapter-catelogue",on:{click:function(e){return e.stopPropagation(),t.handleClick(e)}}},[n("transition",{attrs:{name:"slide-right"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.isChapterCatelogueShow,expression:"isChapterCatelogueShow"}],ref:"catelogue",staticClass:"catelogue-wrap",style:t.theme},[n("div",{staticClass:"title"},[t._v("目录")]),n("div",{staticClass:"content"},[n("div",{directives:[{name:"show",rawName:"v-show",value:!t.isLoaded,expression:"!isLoaded"}],staticClass:"load-animate-wrap"},[n("load-animate")],1),n("scroll",t._l(t.chapterArr,(function(e,r){return n("div",{key:r,staticClass:"chapter-item",class:{current:e.link===t.chapterLink},on:{click:function(n){return n.stopPropagation(),t.goBookReader(e.link)}}},[t._v(t._s(e.title))])})),0)],1)])])],1)])},i=[],a=(n("96cf"),n("1da1")),s=n("e700"),o=n("aada"),c=n("ac0d"),u={props:["chapterLink","theme"],mixins:[c["a"]],data:function(){return{isLoaded:!1,chapterArr:[]}},methods:{goBookReader:function(t){this.hideChapterCatelogue(),this.$emit("go-bookreader",t)},hideChapterCatelogue:function(){this.setIsChapterCatelogueShow(!1)},handleClick:function(t){return t.clientX>=this.$refs.catelogue.offsetLeft+this.$refs.catelogue.offsetWidth&&this.hideChapterCatelogue(),!1},getChapterCatelogue:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.get("/api/atoc",{params:{view:"summary",book:t.$route.params.bookId}});case 2:if(n=e.sent,200!==n.status){e.next=9;break}return t.isLoaded=!0,e.next=7,t.$http.get("/api/atoc/"+n.data[0]._id,{params:{view:"chapters"}});case 7:r=e.sent,200===r.status&&(t.isLoaded=!0,t.chapterArr=r.data.chapters?r.data.chapters:"",t.setChapterList(t.chapterArr));case 9:case"end":return e.stop()}}),e)})))()}},components:{loadAnimate:s["a"],scroll:o["a"]},created:function(){this.getChapterCatelogue()}},l=u,h=(n("1643"),n("2877")),p=Object(h["a"])(l,r,i,!1,null,"593a6959",null);e["a"]=p.exports}}]);
//# sourceMappingURL=chunk-173764f2.c90798d5.js.map